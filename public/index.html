<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ZanyTown</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        #game-container {
            position: relative;
        }
        #player-currency {
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.6);
            color: gold;
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 15;
        }
    </style>
</head>

<body>
    <div id="player-currency">Gold: 0</div>

    <!-- Start #game-container -->
    <div id="game-container">
        <canvas id="gameCanvas" width="900" height="650">
            Your browser does not support the HTML5 canvas tag.
        </canvas>

        <div id="coords-debug" class="ui-panel">Connecting...</div>

        <div id="chat-area" class="ui-panel">
            <div id="chat-log"></div>
            <input type="text" id="chat-input" placeholder="Type chat or /command..." autocomplete="off">
        </div>

        <div id="inventory-panel" class="ui-panel">
            <h4>Inventory</h4>
            <div id="inventory-items">
                <p><i>Loading inventory...</i></p>
            </div>
            <div class="inventory-actions">
                <button id="pickup-furni-btn" disabled title="Pick up selected furniture (Delete/Backspace)">Pick Up</button>
                <button id="recolor-furni-btn" disabled style="display: none;" title="Recolor selected furniture">Recolor</button>
            </div>
        </div>

        <div id="room-controls" class="ui-panel">
            <button id="zoom-in-btn" title="Zoom In (Scroll Up)">Zoom In (+)</button>
            <button id="zoom-out-btn" title="Zoom Out (Scroll Down)">Zoom Out (-)</button>
            <button id="toggle-edit-btn" title="Toggle Build/Edit Mode (E)">Room Edit (Off)</button>
            <button id="open-shop-btn" title="Open Shop Catalog">Shop</button>
            <button id="logout-btn" title="Log out and return to login screen">Logout</button>
        </div>

        <div id="user-list-panel" class="ui-panel">
            <h4>Users Online</h4>
            <ul id="user-list-content">
                <li><i>Loading...</i></li>
            </ul>
        </div>

        <div id="profile-panel" class="ui-panel" style="display: none;">
            <button id="profile-close-btn" class="close-btn" title="Close Profile">X</button>
            <div id="profile-content"></div>
        </div>

        <div id="chat-bubbles-container"></div>

        <div id="recolor-panel" class="ui-panel" style="display: none;">
            <button id="recolor-close-btn" class="close-btn" title="Close Recolor">X</button>
            <h4>Recolor Item</h4>
            <p id="recolor-item-name">Item: ???</p>
            <div id="recolor-swatches">
                <p><i>Loading colors...</i></p>
            </div>
            <button id="recolor-reset-btn" title="Reset to default color">Reset Color</button>
        </div>

        <div id="shop-panel" class="ui-panel" style="display: none;">
            <button id="shop-close-btn" class="close-btn" title="Close Shop">X</button>
            <h4>Shop Catalog</h4>
            <div id="shop-items">
                <!-- Shop items populated by JS -->
                <p><i>Loading shop...</i></p>
            </div>
        </div>

    </div><!-- End #game-container -->

    <!-- Load Socket.IO client library -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- Load Client Game Logic -->
    <script src="client.js"></script>
</body>

</html>